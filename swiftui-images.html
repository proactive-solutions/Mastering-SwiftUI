<!DOCTYPE HTML>
<html lang="zh-tw" >
    
    <head>
        
        <meta charset=utf-8"UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>图片的处理 | 精通 SwiftUI - iOS 16 版</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.0.1">
        <meta name="author" content="Simon Ng">
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <link rel="next" href="./swiftui-stacks.html" />
    
    
    <link rel="prev" href="./swiftui-text.html" />
    

        
    </head>
    <body>
        
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-image-captions/image-captions.css">
        
    
    
        <link rel="stylesheet" href="././styles/website.css">
    

        
    <div class="book" data-level="3" data-basepath="." data-revision="Thu Dec 01 2022 17:36:55 GMT+0800 (HKT)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="输入并搜寻" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
            
            <li>
                <a href="https://www.appcoda.com.tw" target="blank" class="custom-link">Made by AppCoda</a>
            </li>
        
            
            <li>
                <a href="https://www.appcoda.com.tw/contact" target="blank" class="custom-link">Contact us / Support</a>
            </li>
        
            
            <li>
                <a href="http://twitter.com/share?text=Mastering%20SwiftUI%20via%20@appcodamobile&amp;url=https://www.appcoda.com.tw/swiftui/&amp;hashtags=swiftlang" target="blank" class="custom-link">Tweet this book</a>
            </li>
        
        

        
        <li class="divider"></li>
        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                        序言
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="swiftui-basics.html">
            
                
                    <a href="./swiftui-basics.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        SwiftUI 介绍
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="swiftui-text.html">
            
                
                    <a href="./swiftui-text.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        SwiftUI 入门 - 文字的处理
                    </a>
                
            
            
        </li>
    
        <li class="chapter active" data-level="3" data-path="swiftui-images.html">
            
                
                    <a href="./swiftui-images.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        图片的处理
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="swiftui-stacks.html">
            
                
                    <a href="./swiftui-stacks.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        以堆叠布局使用者介面
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="swiftui-scrollview.html">
            
                
                    <a href="./swiftui-scrollview.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        ScrollView 与 Carousel UI 的建立
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="swiftui-buttons.html">
            
                
                    <a href="./swiftui-buttons.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        SwiftUI 按钮与渐层
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="swiftui-state.html">
            
                
                    <a href="./swiftui-state.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        状态(State)与绑定(Binding)
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="swiftui-path-shape.html">
            
                
                    <a href="./swiftui-path-shape.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        实现路径(Path)与形状(Shape)来画线与圆饼图
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="swiftui-animation.html">
            
                
                    <a href="./swiftui-animation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        基础动画与转场
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="10" data-path="swiftui-list.html">
            
                
                    <a href="./swiftui-list.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        动态列表、 ForEach 与 Identifiable 的使用方法
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="11" data-path="swiftui-navigation.html">
            
                
                    <a href="./swiftui-navigation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        导览UI与导览列客制化运用
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="swiftui-modal.html">
            
                
                    <a href="./swiftui-modal.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        强制回应视图、浮动按钮与提示的实现
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="swiftui-form.html">
            
                
                    <a href="./swiftui-form.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        以选取器(Picker)、开关(Toggle)与步进器(Stepper)来建立一个表单
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="14" data-path="swiftui-form-data.html">
            
                
                    <a href="./swiftui-form-data.html">
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        使用 Combine 与 Environment 物件进行资料分享
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="swiftui-form-registration.html">
            
                
                    <a href="./swiftui-form-registration.html">
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        以 Combine 与 视图模型建立一个注册表单
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="16" data-path="swiftui-actionsheet-context.html">
            
                
                    <a href="./swiftui-actionsheet-context.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        滑动删除、内容选单与动作列表
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="17" data-path="swiftui-gestures.html">
            
                
                    <a href="./swiftui-gestures.html">
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        认识手势（Gestures）
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="swiftui-bottom-sheet.html">
            
                
                    <a href="./swiftui-bottom-sheet.html">
                        <i class="fa fa-check"></i>
                        
                            <b>18.</b>
                        
                        以SwiftUI 手势与 GeometryReader 建立一个底部展开式页面
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="19" data-path="swiftui-trip-tinder.html">
            
                
                    <a href="./swiftui-trip-tinder.html">
                        <i class="fa fa-check"></i>
                        
                            <b>19.</b>
                        
                        使用手势与动画建立 Tinder 风格的 UI
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="20" data-path="swiftui-advanced-animations.html">
            
                
                    <a href="./swiftui-advanced-animations.html">
                        <i class="fa fa-check"></i>
                        
                            <b>20.</b>
                        
                        建立像 Apple Wallet App 的动画和转场效果
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="21" data-path="swiftui-json.html">
            
                
                    <a href="./swiftui-json.html">
                        <i class="fa fa-check"></i>
                        
                            <b>21.</b>
                        
                        JSON、滑杆的运用与资料过滤
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="22" data-path="swiftui-core-data.html">
            
                
                    <a href="./swiftui-core-data.html">
                        <i class="fa fa-check"></i>
                        
                            <b>22.</b>
                        
                        如何使用 Core Data 建立 ToDo App
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="23" data-path="swiftui-uikit.html">
            
                
                    <a href="./swiftui-uikit.html">
                        <i class="fa fa-check"></i>
                        
                            <b>23.</b>
                        
                        利用 UIViewRepresentable 整合UIKit 组件
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="24" data-path="swiftui-searchbar.html">
            
                
                    <a href="./swiftui-searchbar.html">
                        <i class="fa fa-check"></i>
                        
                            <b>24.</b>
                        
                        建立搜寻栏视图并使用自订绑定（Custom Binding）
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="25" data-path="swiftui-real-world-app.html">
            
                
                    <a href="./swiftui-real-world-app.html">
                        <i class="fa fa-check"></i>
                        
                            <b>25.</b>
                        
                        把所学应用出来！构建个人理财App
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="26" data-path="swiftui-appstoreanimation.html">
            
                
                    <a href="./swiftui-appstoreanimation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>26.</b>
                        
                        创建类似App Store使用的动画视图转换
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="27" data-path="swiftui-carousel.html">
            
                
                    <a href="./swiftui-carousel.html">
                        <i class="fa fa-check"></i>
                        
                            <b>27.</b>
                        
                        如何建立图像轮播（Image Carousel）
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="28" data-path="swiftui-expandable-list.html">
            
                
                    <a href="./swiftui-expandable-list.html">
                        <i class="fa fa-check"></i>
                        
                            <b>28.</b>
                        
                        如何建立展开式列表视图和大纲视图
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="29" data-path="swiftui-gridlayout.html">
            
                
                    <a href="./swiftui-gridlayout.html">
                        <i class="fa fa-check"></i>
                        
                            <b>29.</b>
                        
                        使用 LazyVGrid 和 LazyHGrid 构建集合视图
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="30" data-path="swiftui-progress-ring.html">
            
                
                    <a href="./swiftui-progress-ring.html">
                        <i class="fa fa-check"></i>
                        
                            <b>30.</b>
                        
                        使用 Shape 和 Animatable 开发带动画的环形进度条
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="31" data-path="swiftui-library.html">
            
                
                    <a href="./swiftui-library.html">
                        <i class="fa fa-check"></i>
                        
                            <b>31.</b>
                        
                        如何使用 AnimatableModifier 和 LibraryContentProvider
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="32" data-path="swiftui-texteditor.html">
            
                
                    <a href="./swiftui-texteditor.html">
                        <i class="fa fa-check"></i>
                        
                            <b>32.</b>
                        
                        使用 TextEditor 支持多行文字输入
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="33" data-path="swiftui-matchedgeometry.html">
            
                
                    <a href="./swiftui-matchedgeometry.html">
                        <i class="fa fa-check"></i>
                        
                            <b>33.</b>
                        
                        使用 matchedGeometryEffect为 App 建立绚丽的视图动画
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="34" data-path="swiftui-grid-animation.html">
            
                
                    <a href="./swiftui-grid-animation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>34.</b>
                        
                        ScrollViewReader 和网格动画
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="35" data-path="swiftui-tabview.html">
            
                
                    <a href="./swiftui-tabview.html">
                        <i class="fa fa-check"></i>
                        
                            <b>35.</b>
                        
                        标签视图的运用与自订标签列
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="36" data-path="swiftui-asyncimage.html">
            
                
                    <a href="./swiftui-asyncimage.html">
                        <i class="fa fa-check"></i>
                        
                            <b>36.</b>
                        
                        利用 AsyncImage 非同步加载和显示图像
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="37" data-path="swiftui-searchable.html">
            
                
                    <a href="./swiftui-searchable.html">
                        <i class="fa fa-check"></i>
                        
                            <b>37.</b>
                        
                        利用 Searchable 建立搜寻栏
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="38" data-path="swiftui-charts.html">
            
                
                    <a href="./swiftui-charts.html">
                        <i class="fa fa-check"></i>
                        
                            <b>38.</b>
                        
                        利用 Charts 框架建立图表
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="39" data-path="swiftui-live-text.html">
            
                
                    <a href="./swiftui-live-text.html">
                        <i class="fa fa-check"></i>
                        
                            <b>39.</b>
                        
                        利用 Live Text API 从图片中撷取文本
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="40" data-path="swiftui-sharelink.html">
            
                
                    <a href="./swiftui-sharelink.html">
                        <i class="fa fa-check"></i>
                        
                            <b>40.</b>
                        
                        通过 ShareLink 来分享文本和图像等资料
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="41" data-path="swiftui-imagerenderer.html">
            
                
                    <a href="./swiftui-imagerenderer.html">
                        <i class="fa fa-check"></i>
                        
                            <b>41.</b>
                        
                        利用 ImageRenderer API 轻松把 SwiftUI 视图转换为图像
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="42" data-path="swiftui-pdf-doc.html">
            
                
                    <a href="./swiftui-pdf-doc.html">
                        <i class="fa fa-check"></i>
                        
                            <b>42.</b>
                        
                        如何把 SwiftUI 视图转换为 PDF 文件
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="43" data-path="swiftui-gauge.html">
            
                
                    <a href="./swiftui-gauge.html">
                        <i class="fa fa-check"></i>
                        
                            <b>43.</b>
                        
                        使用 Gauge 视图显示进度并创建速度计
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="44" data-path="swiftui-grid.html">
            
                
                    <a href="./swiftui-grid.html">
                        <i class="fa fa-check"></i>
                        
                            <b>44.</b>
                        
                        使用Grid API 创建网格布局
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="45" data-path="swiftui-anylayout.html">
            
                
                    <a href="./swiftui-anylayout.html">
                        <i class="fa fa-check"></i>
                        
                            <b>45.</b>
                        
                        利用 AnyLayout 切换 UI 布局
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="46" data-path="swiftui-navigationstack.html">
            
                
                    <a href="./swiftui-navigationstack.html">
                        <i class="fa fa-check"></i>
                        
                            <b>46.</b>
                        
                        使用新的 NavigationStack 视图构建资料导向的导航
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                本书使用 GitBook 释出
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="目录"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="搜寻"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="字型设定"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">衬线体</button>
        <button type="button" data-font="1" class="button">无衬线体</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">白色</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">棕褐色</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">夜间</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="分享"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    分享到 Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    分享到 Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    分享到 Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    分享到 Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    分享到 Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >精通 SwiftUI - iOS 16 版</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="%E7%AC%AC-3-%E7%AB%A0-br-%E5%9C%96%E7%89%87%E8%88%87%E6%A8%99%E7%B1%A4%E7%9A%84%E8%99%95%E7%90%86">第 3 章<br>图片与标签的处理</h1>
<p>现在你应该对于 SwiftUI 有了基本概念，并了解如何显示文字内容，本章我们来看如何显示图片。我们也会学习标签（Label）的用法。</p>
<p>除了文字之外，图片是 iOS App 开发的另外一个基本组件。SwiftUI 提供一个名为 <code>Image</code> 的视图，来让开发者将图片渲染在荧幕上。首前一章的内容相似，我会建立一个简单的 App，以示范如何进行图片的处理。本章可归纳为以下几个主题： </p>
<ul>
<li>什么是SF Symbol，以及如何显示一个系统图片？ </li>
<li>如何显示我们自己的图片？ </li>
<li>如何调整图片大小？ </li>
<li>如何使用 <code>ignoresSafeArea</code> 来显示一个全荧幕的图片？  </li>
<li>如何建立一个圆形图片？ </li>
<li>如何在图片上应用重叠？ </li>
</ul>
<h3 id="%E4%BD%BF%E7%94%A8-swiftui-%E4%BE%86%E5%BB%BA%E7%AB%8B%E6%96%B0%E5%B0%88%E6%A1%88">使用 SwiftUI 来建立新项目</h3>
<p>首先，开启Xcode 并使用“App”模板（ 在 iOS 分类下），来建立一个新项目。输入项目的名称，并设定为“SwiftUIImage”。关于组织名称，你可以设定为你自己公司或组织名称， 同样的，我使用“com.appcoda”，但你可以使用自己的值。要使用SwiftUI 的话，请确认在“User Interface”选项中选取 “SwiftUI”然后点击“Next”，选取要建立项目的资料夹， 如图 3.1 所示。</p>
<figure id="fig3.1"><img src="images/images/swiftui-images-1.png" alt="图 3.1. 建立一个新项目"><figcaption>图 3.1. 建立一个新项目</figcaption></figure>
<p>项目储存完成之后，Xcode 即会载入 <code>ContentView.swift</code> 档，并显示一个“设计/ 预览”画布，如图 3.2 所示。</p>
<figure id="fig3.2"><img src="images/images/swiftui-images-2.png" alt="图 3.2.　预览所产生的程式"><figcaption>图 3.2.　预览所产生的程式</figcaption></figure>
<h3 id="sf-symbols-%E4%BB%8B%E7%B4%B9">SF Symbols 介绍</h3>
<blockquote>
<p>超过 4,000 个可设定的标志，SF Symbols 无缝整合了 Apple 平台的 San Francisco 系统字型，每一个标志皆设定了不同的权重与比例，可以自动对齐文字标签，并支持动态型态（Dynamic type）与粗体字（Bold Text）辅助功能，你也可以输出这些文字，以向量图形编辑工具来进一步编辑，建立具有共享特点与可用性的自订标志。SF Symbols 4 加入 700 多个新符号、增强的颜色自定义、新的检查器以及对自定义符号的改进支持。</p>
</blockquote>
<p>在教你如何在荧幕显示图片之前，我们先谈一下关于图片的来源。当然，你可以在 App 中提供自己的图片。从 iOS 13 开始，Apple 导入名为“SF Symbols”的大量系统图片，可以让开发者在任何 App 中使用。iOS 16 进一步修改版释出了 SF Symbol 4 ，新增了 700 个标志，并增强的颜色设置。</p>
<p>这些图片是作为标志用，由于它整合了内建的 San Francisco 字型，因此使用这些标志， 并不需要额外的安装，只要你的 App 是部署在执行 iOS 13（或之后的版本）的装置，你就可以直接取得这些标志。但你要注意，现在有五组不同的符号需要考虑：</p>
<ul>
<li><strong>SF Symbols v1.1</strong> 适用于 iOS/iPadOS/tvOS/Mac Catalyst 13.0, watchOS 6.0 和 macOS 11.0</li>
<li><strong>SF Symbols v2.0</strong> 适用于 iOS/iPadOS/tvOS/Mac Catalyst 14.0, watchOS 7.0 和 macOS 11.0</li>
<li><strong>SF Symbols v2.1</strong> 适用于 iOS/iPadOS/tvOS/Mac Catalyst 14.2, watchOS 7.1 和 macOS 11.0</li>
<li><strong>SF Symbols v2.2</strong> 适用于 iOS/iPadOS/tvOS/Mac Catalyst 14.5, watchOS 7.4 和 macOS 11.3</li>
<li><strong>SF Symbols v3.0</strong> 适用于 iOS/iPadOS/tvOS/Mac Catalyst 15.0, watchOS 8.0 和 macOS 12.0</li>
<li><strong>SF Symbols v4.0</strong> 适用于 iOS/iPadOS/tvOS/Mac Catalyst 16.0, watchOS 9.0 和 macOS 13.0</li>
</ul>
<p>当要使用这些标志时，你需要准备的是找到标志名称。由于有超过 4,000 个符号可供使用，Apple 释出一个名为 <a href="https://developer.apple.com/design/downloads/SF-Symbols.dmg" target="_blank">SF Symbols</a> (<a href="https://developer.apple.com/sf-symbols/" target="_blank">https://developer.apple.com/sf-symbols/</a>) 个标志可以让你使用，因此你可以很容易地找到你要的标志来配合你的设计。我极力推荐你在进行下一节之前，先安装这个 App。</p>
<figure id="fig3.3"><img src="images/images/swiftui-images-3.png" alt="图 3.3　SF Symbols App"><figcaption>图 3.3　SF Symbols App</figcaption></figure>
<h3 id="%E9%A1%AF%E7%A4%BA%E7%B3%BB%E7%B5%B1%E5%9C%96%E7%89%87">显示系统图片</h3>
<p>想要在荧幕上显示系统图片的话，你可以初始化一个 <code>Image</code> 视图，加上 <code>systemName</code> 参数，如下所示： </p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(systemName: <span class="hljs-string">&quot;cloud.heavyrain&quot;</span>)
</code></pre>
<p>这将会建立一个图片视图，并载入指定的系统图片。如前所述，SF Symbols 与 San Francisco 字型无缝整合。你可以很容易地应用 <code>font</code> 修饰器来进行图片的缩放。</p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(systemName: <span class="hljs-string">&quot;cloud.heavyrain&quot;</span>)
    .font(.system(size: <span class="hljs-number">100</span>))
</code></pre>
<p>你可以变更字型大小来观察图片的反应，如图 3.4 所示。</p>
<figure id="fig3.4"><img src="images/images/swiftui-images-4.png" alt="图 3.4.　显示系统图片"><figcaption>图 3.4.　显示系统图片</figcaption></figure>
<p>同样的，因为系统图片实际上是一个字型，你可以应用其他的修饰器如之前所学过的 <code>foregroundColor</code>，来变更它的外观。</p>
<p>例如：要变更颜色为蓝色，你可以撰写程式如下： </p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(systemName: <span class="hljs-string">&quot;cloud.heavyrain&quot;</span>)
    .font(.system(size: <span class="hljs-number">100</span>))
    .foregroundColor(.blue)
</code></pre>
<p>要加入一个下拉式阴影效果（drop shadow effect ），你只需要使用 <code>shadow</code> 修饰器： </p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(systemName: <span class="hljs-string">&quot;cloud.heavyrain&quot;</span>)
    .font(.system(size: <span class="hljs-number">100</span>))
    .foregroundColor(.blue)
    .shadow(color: .gray, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">0</span>, y: <span class="hljs-number">10</span>)
</code></pre>
<h3 id="%E4%BD%BF%E7%94%A8%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9C%96%E7%89%87">使用自己的图片</h3>
<p>在前面，我们使用了Apple 内建的图片。不过，你可能会在App 中使用自己的图片。那么，要如何使用 <code>Image</code> 视图来载入图片呢？</p>
<p><em><strong>Note</strong>: 你可以任意使用自己的图片，若是你没有合适的图片，也可以至 unsplash.com 下载图片 (<a href="https://unsplash.com/photos/Q0-fOL2nqZc" target="_blank">https://unsplash.com/photos/Q0-fOL2nqZc</a>) ，以方便继续后面的内容。图片下载完成之后，请将档名改成“paris.jpg”。</em></p>
<p>在你的项目能够使用图片之前，首先你必须先将图片汇入素材目录（ Asset Catalog ）， 也就是 <code>Assets</code>。假设你已经准备好图片（paris.jpg ），按下 command+0 键来开启项目导览器（Project Navigator ），并选取 Assets。现在开启 Finder，并将图片拖曳至大纲视图（Outline View ），如图 3.5 所示。</p>
<figure id="fig3.5"><img src="images/images/swiftui-images-5.png" alt="图 3.5　将图片加至素材目录"><figcaption>图 3.5　将图片加至素材目录</figcaption></figure>
<p>如果你是 iOS App 开发新手，这个素材目录是你储存应用程式资源如图片、颜色与资料的地方。当你将图片放入素材目录时，你可以参照它的名称来下载图片。另外，你可以设定要载入图片的装置（例如：只限 iPhone ）。</p>
<p>要在荧幕上显示图片，可撰写程式如下： </p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(<span class="hljs-string">&quot;paris&quot;</span>)
</code></pre>
<p>你只需要指定图片名称，可在预览画布中见到图片。然而，由于图片是高解析度图片（ 4437&#xD7;6656 像素），你只能见到部分图片，如图 3.6 所示。</p>
<figure id="fig3.6"><img src="images/images/swiftui-images-6.png" alt="图 3.6.　载入自订的图片"><figcaption>图 3.6.　载入自订的图片</figcaption></figure>
<h3 id="%E8%AA%BF%E6%95%B4%E5%9C%96%E7%89%87%E5%A4%A7%E5%B0%8F">调整图片大小</h3>
<p>那么，如何调整图片呢？你可以使用 <code>resizable</code> 修饰器，如下所示： </p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(<span class="hljs-string">&quot;paris&quot;</span>)
    .resizable()
</code></pre>
<p>预设上，图片大小调整是使用“延伸”（stretch ）模式。这表示原始图片将会被放大到填满整个荧幕画面（除了顶部与底部区域之外），如图 3.7 所示。</p>
<figure id="fig3.7"><img src="images/images/swiftui-images-7.png" alt="图 3.7. 以resizable 修饰器调整图片大小"><figcaption>图 3.7. 以resizable 修饰器调整图片大小</figcaption></figure>
<p>技术上而言，这个图片填满了整个 iOS 所定义的安全区域（Safe Area ）。安全区域的观念已经存在一段颇长的时间了，定义为安全布局UI 组件的视图区域。举例而言，如图 3.7 所示，这个安全区域不包含顶部列（Top Bar ）（也就是状态列）与底部列（Bottom Bar ） 的区域。安全区域可以避免你不小心隐藏了系统 UI 组件，例如：状态列（Status Bar ）、导览列（Navigation Bar ）与标签列（Tab Bar ）。</p>
<p>既然我们正好说到这件事， 若是你想要显示全荧幕图片， 你可以设定 <code>ignoringSafeArea</code> 修饰器来忽略安全区域，如图 3.8 所示。 </p>
<figure id="fig3.8"><img src="images/images/swiftui-images-8.png" alt="图 3.8　忽略安全区域"><figcaption>图 3.8　忽略安全区域</figcaption></figure>
<p>你可以针对特定的边缘来忽略安全区域，例如：要忽略底部边缘的安全区域，你只要传送 <code>.bottom</code> 作为参数即可:</p>
<pre><code class="lang-swift">.ignoresSafeArea(.container, edges: .bottom)
</code></pre>
<h3 id="aspect-fit-%E8%88%87-aspect-fill">Aspect Fit 与 Aspect Fill</h3>
<p>如果你看一下前一小节这两张图片，并与原来的做比对，你应该会发现长宽比（aspect ratio ）有些失真。这个延伸模式不会去管图片的长宽比，它只是将每一边延伸来填满安全区域而已。如图 3.9 所示，要保持原来的长宽比的话，你可以像这样应用 <code>scaledToFit</code> 修饰器： </p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(<span class="hljs-string">&quot;paris&quot;</span>)
    .resizable()
    .scaledToFit()
</code></pre>
<figure id="fig3.9"><img src="images/images/swiftui-images-9.png" alt=" 图 3.9　缩放图片保持原来的长宽比"><figcaption> 图 3.9　缩放图片保持原来的长宽比</figcaption></figure>
<p>另外，你可以使用 <code>aspectRatio</code> 修饰器，并设定内容模式（Content Mode）为. <code>fit</code>，这会达成同样的结果。</p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(<span class="hljs-string">&quot;paris&quot;</span>)
    .resizable()
    .aspectRatio(contentMode: .fit)
</code></pre>
<p>在某些情况下，你想要图片的长宽比保持一样，但尽可能地延伸，则你可以应用 <code>.fill</code> 内容模式： </p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(<span class="hljs-string">&quot;paris&quot;</span>)
    .resizable()
    .aspectRatio(contentMode: .fill)
</code></pre>
<p>我们试着来限制图片的大小，这有助于你对这两种模式能更了解。frame 修饰器可以让你控制视图的大小。举例而言，设定框架（frame ）的宽度为“300 点”，图片的宽度将会限制在 300 点，如图 3.10 所示。</p>
<figure id="fig3.10"><img src="images/images/swiftui-images-10.png" alt="图 3.10.　利用 frame 控制图片的宽度"><figcaption>图 3.10.　利用 frame 控制图片的宽度</figcaption></figure>
<p>现在将 <code>Image</code> 程式以下面的代码取代： </p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(<span class="hljs-string">&quot;paris&quot;</span>)
    .resizable()
    .aspectRatio(contentMode: .fill)
    .frame(width: <span class="hljs-number">300</span>)
</code></pre>
<p>这张图片会被缩小，但是仍保持原始长宽比。如果你变更内容模式为 <code>.fill</code>，图片看起来与图 3.7 几乎相同，然而当你使用<em>selectable</em> 模式并仔细看图 3.11，长宽比是维持不变的。</p>
<figure id="fig3.11"><img src="images/images/swiftui-images-11.png" alt="图 3.11.　使用.fill 内容模式"><figcaption>图 3.11.　使用.fill 内容模式</figcaption></figure>
<p>你可能会注意到图片的宽度不是我们想要的，它依然占满整个荧幕宽度。要正确运作的话，你必须使用 <code>clipped</code> 修饰器来消除视图额外的部分，如图 3.12 所示。</p>
<figure id="fig3.12"><img src="images/images/swiftui-images-12.png" alt="图 3.12.　使用.clipped 来裁切视图"><figcaption>图 3.12.　使用.clipped 来裁切视图</figcaption></figure>
<h3 id="%E5%BB%BA%E7%AB%8B%E5%9C%93%E5%BD%A2%E5%9C%96%E7%89%87">建立圆形图片</h3>
<p>除了将图片裁切为长方形之外，SwiftUI 提供其他修饰器来让你将图片裁成不同的形状，例如：圆形。举例而言，如果你想要建立圆形图片，你可以像这样使用 <code>clipShape</code> 修饰器： </p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(<span class="hljs-string">&quot;paris&quot;</span>)
    .resizable()
    .aspectRatio(contentMode: .fill)
    .frame(width: <span class="hljs-number">300</span>)
    .clipShape(<span class="hljs-type">Circle</span>())
</code></pre>
<p>这里我们指定将图片裁成圆形。你可以传送不同参数（如 Ellipse() ）来建立不同形状的图片，图 3.13 为一些示例。</p>
<figure id="fig3.13"><img src="images/images/swiftui-images-13.jpg" alt="图 3.13.　使用.clipShape 修饰器来建立不同形状的图片"><figcaption>图 3.13.　使用.clipShape 修饰器来建立不同形状的图片</figcaption></figure>
<h3 id="%E4%B8%8D%E9%80%8F%E6%98%8E%E5%BA%A6%E7%9A%84%E8%AA%BF%E6%95%B4">不透明度的调整</h3>
<p>SwiftUI 内建了名为 <code>opacity</code> 的修饰器，你可以使用这个修饰器来控制图片（或者任何视图）的不透明度。你传送一个介于0 与1 的值来指定图片的不透明度。这里，“0”代表视图完全透明，“1”则代表完全不透明。</p>
<p>举例而言，如果你对图片视图应用了<code>opacity</code> 修饰器，并设定其值为“0.5”，则这个图片将会呈现半透明（partially transparent ），如图 3.14 所示。</p>
<figure id="fig3.14"><img src="images/images/swiftui-images-14.png" alt="图 3.14　调整不透明度为50 %"><figcaption>图 3.14　调整不透明度为50 %</figcaption></figure>
<h3 id="%E6%87%89%E7%94%A8%E5%9C%96%E7%89%87%E9%87%8D%E7%96%8A">应用图片重叠</h3>
<p>在设计App 时，有时你需要将另一个图片或文字分层放置在图片视图之上。SwiftUI 框架提供一个名为“overlay”的修饰器给开发者，来将图片进行重叠（Overlay ），例如：你要重叠一个系统图片（如 heart.fill ）至目前的图片，你可以撰写程式如下：</p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(<span class="hljs-string">&quot;paris&quot;</span>)
    .resizable()
    .aspectRatio(contentMode: .fill)
    .frame(width: <span class="hljs-number">300</span>)
    .clipShape(<span class="hljs-type">Circle</span>())
    .overlay(
        <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">&quot;heart.fill&quot;</span>)
            .font(.system(size: <span class="hljs-number">50</span>))
            .foregroundColor(.black)
            .opacity(<span class="hljs-number">0.5</span>)
    )
</code></pre>
<p>程式中的 <code>.overlay</code> 修饰器带入一个 <code>View</code> 作为参数。在上列的程式中，我们建立其他的图片（如 heart.fill ），并将其重叠在目前图片（如 Paris ）之上，如图 3.15 所示。</p>
<figure id="fig3.15"><img src="images/images/swiftui-images-15.png" alt="图 3.15　在目前的图片上应用重叠"><figcaption>图 3.15　在目前的图片上应用重叠</figcaption></figure>
<p>事实上，你可以采用任何视图来做重叠。例如：你可以重叠一个 <code>Text</code> 视图在图片之上。程式写法如下： </p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(<span class="hljs-string">&quot;paris&quot;</span>)
    .resizable()
    .aspectRatio(contentMode: .fit)
    .overlay(

        <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;If you are lucky enough to have lived in Paris as a young man, then wherever you go for the rest of your life it stays with you, for Paris is a moveable feast.\n\n- Ernest Hemingway&quot;</span>)
            .fontWeight(.heavy)
            .font(.system(.headline, design: .rounded))
            .foregroundColor(.white)
            .padding()
            .background(<span class="hljs-type">Color</span>.black)
            .cornerRadius(<span class="hljs-number">10</span>)
            .opacity(<span class="hljs-number">0.8</span>)
            .padding(),

        alignment: .top

    )
</code></pre>
<p>在 <code>overlay</code> 修饰器，你只需要建立一个 <code>Text</code> 视图，而这个文字视图将会作为图片上的重叠物件。我相信你已经熟悉了 <code>Text</code> 视图的修饰器，我们在前面的章节已经有介绍过。我们只是变更字型与颜色，除此之外，我们加入了间距与背景颜色。另外，要特别说明的是 <code>alignment</code> 参数，对于 <code>overlay</code> 修饰器，你可以提供一个可选值（Optional Value ）来调整视图的对齐。预设是置中对齐，这里我们想要将文字重叠于图片之上，如图 3.16 所示。你可以自己将值变更为“.center”或者“.bottom”，来看看结果为何。</p>
<figure id="fig3.16"><img src="images/images/swiftui-images-16.png" alt="图3.16　在目前的图片上应用重叠"><figcaption>图3.16　在目前的图片上应用重叠</figcaption></figure>
<h3 id="%E4%BB%A5%E9%87%8D%E7%96%8A%E4%BE%86%E4%BD%BF%E5%9C%96%E7%89%87%E8%AE%8A%E6%9A%97">以重叠来使图片变暗</h3>
<p>你不止可以重叠图片或文字在另一张图片上，你也可以应用重叠来使图片变暗。将 <code>Image</code> 程式以下列程式替代，并看一下效果： </p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(<span class="hljs-string">&quot;paris&quot;</span>)
    .resizable()
    .aspectRatio(contentMode: .fit)
    .overlay(
        <span class="hljs-type">Rectangle</span>()
            .foregroundColor(.black)
            .opacity(<span class="hljs-number">0.4</span>)
    )
</code></pre>
<p>我们在图片上画一个矩形（Rectangle ），并将其前景色设定为“black”。为了达到变暗（darken ）效果，我们设定不透明度为“0.4”，也就是 40% 的不透明度，图片现在应该变暗了。</p>
<p>也可以将程式重写如下完成一样的效果：</p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(<span class="hljs-string">&quot;paris&quot;</span>)
    .resizable()
    .aspectRatio(contentMode: .fit)
    .overlay(
        <span class="hljs-type">Color</span>.black
            .opacity(<span class="hljs-number">0.4</span>)
    )
</code></pre>
<p>在  SwiftUI，正好 <code>Color</code> 也是一个视图，因此我们可以使用 <code>Color.black</code> 作为上层来将下层的图片变暗。</p>
<p>当你想要将一些亮色文字重叠在太亮的图片上时，这个技术尤其有用。我们将 <code>Image</code> 程式替换如下： </p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(<span class="hljs-string">&quot;paris&quot;</span>)
    .resizable()
    .aspectRatio(contentMode: .fit)
    .frame(width: <span class="hljs-number">300</span>)
    .overlay(
        <span class="hljs-type">Color</span>.black
            .opacity(<span class="hljs-number">0.4</span>)
            .overlay(
                <span class="hljs-type">Text</span>(<span class="hljs-string">&quot;Paris&quot;</span>)
                    .font(.largeTitle)
                    .fontWeight(.black)
                    .foregroundColor(.white)
                    .frame(width: <span class="hljs-number">200</span>)
            )
    )
</code></pre>
<p>如前所述，这个 <code>overlay</code> 修饰器不限于 <code>Image</code>，你也可以将它应用在其他视图上。在上列的程式中，我们使用“Color.black”来使图片变暗。此外，我们也重叠并放置了一个 <code>Text</code>。如果你的步骤都正确的话，你应该会见到一个“Paris”的文字放置在深色的图片上面，如图 3.17 所示。</p>
<figure id="fig3.17"><img src="images/images/swiftui-images-17.png" alt="图 3.17. 使图片变暗并应用文字重叠"><figcaption>图 3.17. 使图片变暗并应用文字重叠</figcaption></figure>
<h3 id="%E4%BD%BF%E7%94%A8%E6%9C%89%E9%A1%8F%E8%89%B2%E7%9A%84-sf-symbols">使用有颜色的 SF Symbols</h3>
<p>自 iOS 15 推出后，SF Symbols 提供四种渲染模式，可以将颜色应用于符号。 根据所选择的模式，你可以为符号填上单色或多种颜色。 例如，cloud.sun.rain 是一个支持<em>Palette Rendering</em> 的符号。 你可以对符号应用两种或多种对比色。 下图显示如何使用 SF Symbols 应用程式测试调色板。</p>
<figure id="fig3.18"><img src="images/images/swiftui-images-18.png" alt="图 3.18. 在 SF Symbols 中使用调色板"><figcaption>图 3.18. 在 SF Symbols 中使用调色板</figcaption></figure>
<p>在 SwiftUI 中，你可以加入 <code>symbolRenderingMode</code> 修饰器来更改模式。 要建立具有多种颜色的相同符号，你可以编写如下代码：</p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(systemName: <span class="hljs-string">&quot;cloud.sun.rain&quot;</span>)
    .symbolRenderingMode(.palette)
    .foregroundStyle(.indigo, .yellow, .gray)
</code></pre>
<p>我们在代码中指定使用<code>palette</code> 模式，然后使用<code>foregroundStyle</code> 修饰器使用颜色。</p>
<h3 id="%E5%8F%AF%E8%AE%8A%E9%A1%8F%E8%89%B2%EF%BC%88variable-colors%EF%BC%89">可变颜色（Variable Colors）</h3>
<p>在 iOS 16 中，SF Symbols 添加了一个名为 <em>Variable Color</em> 的新功能。 你可以通过更改百分比值来调整符号的颜色。 这在使用某些符号表示进度时特别有用。</p>
<p>你可以下载 SF Symbols 4 (<a href="https://developer.apple.com/sf-symbols/" target="_blank">https://developer.apple.com/sf-symbols/</a>) 以试用此新功能。 安装应用程式后，选择 <em>Variable</em> 类别并选择其中一个符号。 在检查器中，你可以选取 <em>Variable Color</em> 按钮来启用该功能。 当你更改百分比值时，符号会对更改做出反应并填充其中的一部分。 以 <code>slowmo</code> 符号为例。 当你将百分比值设置为 <code>60%</code> 时，仅填充一些条形以表示进度。</p>
<figure id="fig3.19"><img src="images/images/swiftui-images-19.png" alt="图 3.19. 在 SF Symbols app 使用 Variable Colors"><figcaption>图 3.19. 在 SF Symbols app 使用 Variable Colors</figcaption></figure>
<p>可变颜色适用于 SF Symbols 内的每种渲染模式（Rendering mode）。 你可以试试更改为其他渲染模式以查看效果。</p>
<p>至于，要在代码中设置百分比值，你可以在建立 <code>Image</code> 视图时，加入 <code>variableValue</code> 参数并将其与百分比值一起传递：</p>
<pre><code class="lang-swift"><span class="hljs-type">Image</span>(systemName: <span class="hljs-string">&quot;slowmo&quot;</span>, variableValue: <span class="hljs-number">0.6</span>)
    .symbolRenderingMode(.palette)
    .foregroundStyle(.indigo)
    .font(.largeTitle)
</code></pre>
<h3 id="%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%B5%90">本章小结</h3>
<p>在本章中，我介绍了如何以 SwiftUI 处理图片。SwiftUI 已经让开发者很容易显示图片， 并让我们使用不同的修饰器来产生各种的图片效果。如果你是独立开发者，这些新导入的 SF Symbols 会节省你寻找第三方图示的时间。</p>
<p>在本章所准备的示例档中，有完整的项目可以下载： </p>
<ul>
<li>示例项目 (<a href="https://www.appcoda.com/resources/swiftui4/SwiftUIImage.zip" target="_blank">https://www.appcoda.com/resources/swiftui4/SwiftUIImage.zip</a>)</li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./swiftui-text.html" class="navigation navigation-prev " aria-label="Previous page: SwiftUI 入门 - 文字的处理"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./swiftui-stacks.html" class="navigation navigation-next " aria-label="Next page: 以堆叠布局使用者介面"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":"white","family":"serif","size":3},"image-captions":{"caption":"_CAPTION_","variable_name":"_pictures"}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
